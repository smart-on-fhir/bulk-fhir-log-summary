# Bulk FHIR Log Summary

This tool can read the bulk log files generated by
[bulk-data-client](https://github.com/smart-on-fhir/bulk-data-client)
(spec [here](https://github.com/smart-on-fhir/bulk-data-client/wiki/Bulk-Data-Export-Log-Items))
and present stats in a human readable way.

## Installation

1. Clone this repo.
2. Run `pip install -e .`

## Usage

- `bulk-fhir-log-summary example.ndjson`
- `bulk-fhir-log-summary --help`

## Example Output

```
┌────────────────┬──────────────────────────┐
│ Params:        │ _type: MedicationRequest │
│ Run:           │ 05/15/23 17:19:02        │
│ Count:         │ 347,593 (1,177MB)        │
│ Time/Resource: │ 11.6ms                   │
│ Time/Megabyte: │ 3.4s                     │
│ Total Time:    │ 1.1h                     │
└────────────────┴──────────────────────────┘
┌────────────────┬──────────────────┐
│ Params:        │ _type: Patient   │
│ Run:           │ 2 runs, averaged │
│ Count:         │ 4,376 (32MB)     │
│ Time/Resource: │ 42.6ms           │
│ Time/Megabyte: │ 5.8s             │
│ Total Time:    │ 3.1m             │
└────────────────┴──────────────────┘
```

## Contributing

To use the same dev environment as us, you'll want to run these commands:
```sh
pip install .[dev]
pre-commit install
```

This will install the pre-commit hooks for the repo (which automatically enforce styling for you).
